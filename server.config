# PostgreSQL basic configuration file
# Paths are relative to the data directory

# -----------------------------
# CONNECTIONS AND AUTHENTICATION
# -----------------------------

# Maximum number of concurrent connections
max_connections = 100

# Port to listen on
port = 5432

# Listen on specific addresses (default is localhost only)
listen_addresses = 'localhost'  # To listen on all interfaces, use '*'

# Connection authentication timeout
authentication_timeout = 1min

# -----------------------------
# MEMORY SETTINGS
# -----------------------------

# Amount of shared memory available for PostgreSQL
shared_buffers = 128MB

# Amount of memory PostgreSQL uses for caching query results
work_mem = 4MB

# Maximum amount of memory PostgreSQL can use for sorting data
maintenance_work_mem = 64MB

# -----------------------------
# LOGGING
# -----------------------------

# Where to log server messages
log_destination = 'stderr'

# Enable logging of all SQL statements
log_statement = 'none'  # Options: 'none', 'ddl', 'mod', 'all'

# Logging error messages
log_min_error_statement = error

# Log file rotation
log_rotation_age = 1d
log_rotation_size = 10MB

# -----------------------------
# LOCALE AND TIME ZONE
# -----------------------------

# Default locale (change to your preferred locale)
lc_messages = 'en_US.UTF-8'
lc_monetary = 'en_US.UTF-8'
lc_numeric = 'en_US.UTF-8'
lc_time = 'en_US.UTF-8'

# Time zone
timezone = 'UTC'

# -----------------------------
# CHECKPOINTS AND BACKUP
# -----------------------------

# How frequently to perform checkpoints (to write changes to disk)
checkpoint_timeout = 5min

# Amount of WAL segments to maintain
checkpoint_completion_target = 0.7

# -----------------------------
# CLIENT CONNECTION DEFAULTS
# -----------------------------

# Default encoding
client_encoding = 'UTF8'

# Default isolation level for transactions
default_transaction_isolation = 'read committed'

# -----------------------------
# SECURITY AND AUTHENTICATION
# -----------------------------

# Enforce SSL connections (requires SSL certificates to be configured)
ssl = off  # Turn this on if you want to enable SSL (requires SSL setup)

# Password encryption
password_encryption = scram-sha-256  # Options: 'md5', 'scram-sha-256'

